{% extends "base.html" %}

{% block title %}Dashboard - Unkraut-2025{% endblock %}
{% block page_title %}Dashboard - Autonomer Roboter mit Arm{% endblock %}

{% block content %}
<div class="grid">
    <div class="card">
        <h3>📊 System Status</h3>
        <div id="system-status">Lade Status...</div>
        <button class="btn btn-primary" onclick="updateStatus()">Aktualisieren</button>
    </div>
    
    <div class="card">
        <h3>📷 Live Kamera</h3>
        <img id="camera-stream" src="/api/camera/stream" alt="Kamera Stream"><br>
        <button class="btn btn-primary" onclick="captureImage()">📸 Foto</button>
        <button class="btn btn-success" onclick="detectWeeds()">🔍 Unkraut erkennen</button>
    </div>
</div>

<div class="card">
    <h3>🚀 Schnellaktionen</h3>
    <div class="control-grid">
        <button class="btn btn-success" onclick="moveRobot('forward')">⬆️ Vorwärts</button>
        <button class="btn btn-success" onclick="moveRobot('left')">⬅️ Links</button>
        <button class="btn btn-danger" onclick="stopAll()">⏹️ Alles stoppen</button>
        <button class="btn btn-success" onclick="moveRobot('right')">➡️ Rechts</button>
        <button class="btn btn-success" onclick="moveRobot('backward')">⬇️ Rückwärts</button>
        <div></div>
        <button class="btn btn-warning" onclick="armHome()">🏠 Arm Home</button>
        <button class="btn btn-warning" onclick="armWeedRemove()">🌿 Unkraut entfernen</button>
        <div></div>
    </div>
</div>

<div class="card">
    <h3>🔄 Status Updates</h3>
    <div id="live-status"></div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
{% endblock %}